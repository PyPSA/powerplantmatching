# ---------------------------------------------------------------------------- #
#                                   IO Config                                  #
# ---------------------------------------------------------------------------- #
entsoe_token: ""
google_api_key:

# ---------------------------------------------------------------------------- #
#                                Matching Config                               #
# ---------------------------------------------------------------------------- #

# This query is applied to all input data
# Note: querying "key == key" filters out nan values
main_query: "Name != '' and (lat >= 30 or lat != lat)"

# matching_sources, only the matched powerplants are added to the final dataset
matching_sources:
  # Make individual queries for the datasets as done in `fully_included_sources`
  # Queries are combined with `main_query` with an `and` operator
  # capacity filters avoid matching of too small units (which is too time-consuming)
  # wind is per turbine rather than park in MASTR and unsuitable for matching
  - ENTSOE: not (Country == 'Germany' and Fueltype  == 'Wind')
  # wind in germany is provided by MASTR, other filters are due to large deviations to other datasets
  - GEO: Capacity >= 1 and not (Country == 'Germany' and Fueltype  == 'Wind') and Fueltype not in ['Oil', 'Nuclear'] and not (Country in ['Bulgaria', 'Slovakia'] and Fueltype == 'Hard Coal')
  # wind in germany is provided by MASTR, nuclear is not block-wise, other filters are due to large deviations to other datasets
  - GPD: Capacity >= 1 and not (Country == 'Germany' and Fueltype  == 'Wind') and not (Country in ['Czechia', 'Bulgaria', 'Romania'] and Fueltype == 'Hard Coal') and Fueltype != 'Nuclear'
  - JRC: Capacity >= 1
  # wind in germany is provided by MASTR, other filters are due to large deviations to other datasets
  - OPSD: not (Country == 'Germany' and Fueltype  == 'Wind') and ((Capacity >= 1 and Fueltype != 'Solar') or Capacity >= 3) and not (Country == 'Spain' and Fueltype == 'Hard Coal') and not (Country == 'Italy' and Fueltype == 'Natural Gas')
  - BEYONDCOAL
  # wind in germany is provided by MASTR
  - GEM: Capacity >= 3 and not (Country == 'Germany' and Fueltype  == 'Wind')
  # do not match units below 1 MW (2 MW for biogas, 3 MW for solar), exclude wind in Germany from any matching
  - MASTR: (Fueltype != 'Wind') and ((Fueltype == 'Solar' and Capacity >= 3) or (Fueltype == 'Biogas' and Capacity >= 2) or (Fueltype not in ['Solar', 'Biogas'] and Capacity >= 1))
  - EESI
  - GHR

# # fully_included_sources, these sources are included even without match to the final dataset
fully_included_sources:
  # Make individual queries for the datasets
  # wind and solar in Germany is covered by MASTR
  - GEM: not (Country == 'Germany' and Fueltype in ['Solar', 'Wind'])
  # battery in Germany is covered by MASTR
  - EESI: Fueltype != 'Hydro' and not (Country == 'Germany' and Fueltype == 'Battery')
  # exclude units smaller than 100 kW (low total capacity) and take nuclear from other datasets (good matching)
  - MASTR: Capacity >= 0.1 and Fueltype != 'Nuclear'
  # take small hydro outside Germany from OPSD (highest coverage)
  - OPSD: Country != 'Germany' and Capacity < 1 and Capacity >= 0.1 and Fueltype == 'Hydro'
  - BEYONDCOAL
  # include this selection of countries as they have poorer coverage in all other datasets
  - JRC: Country in ['Italy', 'Croatia', 'Serbia', 'Slovakia']

# these sources skip unit aggregation for fully_included_sources not covered in matching_sources
aggregate_only_matching_sources:
  - MASTR # the matching process of very small units is not efficient

parallel_duke_processes: false
threads_extend_by_non_matched: 16
matched_data_url: https://raw.githubusercontent.com/PyPSA/powerplantmatching/{tag}/powerplants.csv

# ---------------------------------------------------------------------------- #
#                                  Data Source Config                          #
# ---------------------------------------------------------------------------- #

opsd_vres_base_year: 2020

BNETZA:
  reliability_score: 1
  fn: Kraftwerksliste_2017_2.xlsx
  url: https://www.bundesnetzagentur.de/SharedDocs/Downloads/DE/Sachgebiete/Energie/Unternehmen_Institutionen/Versorgungssicherheit/Erzeugungskapazitaeten/Kraftwerksliste/Kraftwerksliste_2019_1.xlsx;jsessionid=17E419F28D025C7DD9FC6E2BEB3D088F?__blob=publicationFile&v=2
BEYONDCOAL:
  net_capacity: false
  aggregated_units: false
  reliability_score: 4
  status: ["construction", "operational", "no longer coal", "retired", "standby", "deactivated", "retrofitting"]
  fn: 2025-07-24-BeyondFossilFuels-Europe_Coal_Plants_Database.xlsx
  url: https://beyondfossilfuels.org/wp-content/uploads/2025/07/2025-07-24-BeyondFossilFuels-Europe_Coal_Plants_Database.xlsx
IRENA:
  net_capacity: true
  aggregated_units: true
  fn: IRENASTAT_capacities_2000-2024.csv
  # compiled from https://pxweb.irena.org/pxweb/en/IRENASTAT/IRENASTAT__Power%20Capacity%20and%20Generation/Country_ELECSTAT_2025_H2_PX.px/
  url: https://tubcloud.tu-berlin.de/s/p2D5E9MLWE8HPHE/download/IRENASTAT_capacities_2000-2024.csv
CARMA:
  net_capacity: false
  reliability_score: 1
  url: https://raw.githubusercontent.com/pypsa-meets-earth/ppm-data-backup/main/Full_CARMA_2009_Dataset_1.csv
  fn: Full_CARMA_2009_Dataset_1.csv
ENTSOE:
  reliability_score: 5
  url: https://tubcloud.tu-berlin.de/s/QaHLH38J4A7ZF5m/download/entsoe_transparency_platform_20250820.csv
  fn: entsoe_transparency_platform_20250820.csv
ENTSOE-EIC:
  url: https://eepublicdownloads.blob.core.windows.net/cio-lio/csv/W_eicCodes.csv
  fn: W_eicCodes.csv
JRC:
  reliability_score: 5
  fn: jrc-hydro-power-plant-database.csv
  url: https://raw.githubusercontent.com/energy-modelling-toolkit/hydro-power-database/27e80f/data/jrc-hydro-power-plant-database.csv
GEO:
  net_capacity: false
  reliability_score: 2
  url: https://raw.githubusercontent.com/pypsa-meets-earth/ppm-data-backup/main/global_energy_observatory_power_plants.csv
  fn: global_energy_observatory_power_plants.csv
GEO_units:
  net_capacity: false
  reliability_score: 2
  url: https://raw.githubusercontent.com/pypsa-meets-earth/ppm-data-backup/main/global_energy_observatory_ppl_units.csv
  fn: global_energy_observatory_ppl_units.csv
GPD:
  reliability_score: 3
  fn: globalpowerplantdatabase_v_1_3_0.zip
  #if outdated, look at http://datasets.wri.org/dataset/globalpowerplantdatabase
  url: https://wri-dataportal-prod.s3.amazonaws.com/manual/global_power_plant_database_v_1_3.zip
WIKIPEDIA:
  reliability_score: 2
  url: https://raw.githubusercontent.com/pypsa-meets-earth/ppm-data-backup/main/nuclear_plants_from_wikipedia.csv
  fn: nuclear_plants_from_wikipedia.csv
IWPDCY:
  aggregated_units: true
  reliability_score: 2
  fn: IWPDCY.csv
OPSD_DE:
  reliability_score: 3
  fn: conventional_power_plants_DE.csv
  url: https://raw.githubusercontent.com/pypsa-meets-earth/ppm-data-backup/main/conventional_power_plants_DE.csv
OPSD_EU:
  reliability_score: 3
  fn: conventional_power_plants_EU.csv
  url: https://raw.githubusercontent.com/pypsa-meets-earth/ppm-data-backup/main/conventional_power_plants_EU.csv
OPSD_VRE:
  url: https://data.open-power-system-data.org/renewable_power_plants/2020-08-25/renewable_power_plants_EU.csv
  fn: renewable_power_plants_EU.csv
OPSD_VRE_DE:
  url: https://data.open-power-system-data.org/renewable_power_plants/2020-08-25/renewable_power_plants_DE.csv
  fn: renewable_power_plants_DE.csv
OPSD_VRE_FR:
  url: https://data.open-power-system-data.org/renewable_power_plants/2020-08-25/renewable_power_plants_FR.csv
  fn: renewable_power_plants_FR.csv
OPSD_VRE_PL:
  url: https://data.open-power-system-data.org/renewable_power_plants/2020-08-25/renewable_power_plants_PL.csv
  fn: renewable_power_plants_PL.csv
OPSD_VRE_CH:
  url: https://data.open-power-system-data.org/renewable_power_plants/2020-08-25/renewable_power_plants_CH.csv
  fn: renewable_power_plants_CH.csv
OPSD_VRE_DK:
  url: https://data.open-power-system-data.org/renewable_power_plants/2020-08-25/renewable_power_plants_DK.csv
  fn: renewable_power_plants_DK.csv
OPSD_VRE_CZ:
  url: https://data.open-power-system-data.org/renewable_power_plants/2020-08-25/renewable_power_plants_CZ.csv
  fn: renewable_power_plants_CZ.csv
OPSD_VRE_SE:
  url: https://data.open-power-system-data.org/renewable_power_plants/2020-08-25/renewable_power_plants_SE.csv
  fn: renewable_power_plants_SE.csv
OPSD_VRE_GB:
  url: https://data.open-power-system-data.org/renewable_power_plants/2020-08-25/renewable_power_plants_UK.csv
  fn: renewable_power_plants_UK.csv
OPSD:
  reliability_score: 3
Capacity_stats:
  url: https://data.open-power-system-data.org/national_generation_capacity/2020-10-01/national_generation_capacity_stacked.csv
  fn: national_generation_capacity_stacked.csv
UBA:
  net_capacity: false
  reliability_score: 1
  fn: kraftwerke-de-ab-100-mw.xls
  url: https://www.umweltbundesamt.de/sites/default/files/medien/372/dokumente/kraftwerke_de_ab_100_mw_0.xls
WEPP:
  net_capacity: false
  reliability_score: 1
  fn: platts_wepp.csv
GGPT:
  net_capacity: false
  reliability_score: 6
  status: ["operating", "retired", "construction"]
  fn: Global-Oil-and-Gas-Plant-Tracker-GOGPT-August-2025.xlsx
  url: https://tubcloud.tu-berlin.de/s/aKrt7dyNgazmgAm/download/Global-Oil-and-Gas-Plant-Tracker-GOGPT-August-2025.xlsx
GEM:
  # combined data set of all GEM trackers
  net_capacity: true
  reliability_score: 6
GCPT:
  net_capacity: false
  reliability_score: 6
  status: ["operating", "retired", "construction", "mothballed"]
  fn: Global-Coal-Plant-Tracker-July-2025.xlsx
  url: https://tubcloud.tu-berlin.de/s/etMB7qawKNwfgnk/download/Global-Coal-Plant-Tracker-July-2025.xlsx
GGTPT:
  net_capacity: false
  reliability_score: 6
  aggregated_units: false
  status: ["operating", "retired", "construction", "mothballed"]
  fn: Geothermal-Power-Tracker-March-2025-Final.xlsx
  url: https://tubcloud.tu-berlin.de/s/dNoEsLeGtCWDkoc/download/Geothermal-Power-Tracker-March-2025-Final.xlsx
GWPT:
  net_capacity: false
  reliability_score: 6
  status: ["operating", "retired", "construction"]
  fn:  Global-Wind-Power-Tracker-February-2025.xlsx
  url: https://tubcloud.tu-berlin.de/s/8NSXSjPmJPXpg4W/download/Global-Wind-Power-Tracker-February-2025.xlsx
GSPT:
  net_capacity: false
  reliability_score: 6
  status: ["operating", "retired", "construction"]
  fn: Global-Solar-Power-Tracker-February-2025.xlsx
  url: https://tubcloud.tu-berlin.de/s/7eo4dZXMp6eB3mz/download/Global-Solar-Power-Tracker-February-2025.xlsx
GBPT:
  net_capacity: false
  reliability_score: 6
  status: ["operating", "retired", "construction"]
  fn: Global-Bioenergy-Power-Tracker-GBPT-September-2024.xlsx
  url: https://tubcloud.tu-berlin.de/s/CzMBKe2rAcsoq7c/download/Global-Bioenergy-Power-Tracker-GBPT-September-2024.xlsx
GNPT:
  net_capacity: false
  reliability_score: 6
  status: ["operating", "retired", "mothballed", "construction"]
  fn: Global-Nuclear-Power-Tracker-July-2024.xlsx
  url: https://tubcloud.tu-berlin.de/s/gXFim9EciRHrjeQ/download/Global-Nuclear-Power-Tracker-July-2024.xlsx
GHPT:
  net_capacity: false
  reliability_score: 6
  status: ["operating", "retired", "construction"]
  fn: Global-Hydropower-Tracker-April-2025.xlsx
  url: https://tubcloud.tu-berlin.de/s/2xqxRmfP4FKTrLf/download/Global-Hydropower-Tracker-April-2025.xlsx
MASTR:
  net_capacity: true
  reliability_score: 7
  status: ["In Betrieb", "In Planung", "Endgültig stillgelegt", "Vorübergehend stillgelegt"]
  fn: bnetza_open_mastr_2025-02-09.zip
  url: https://zenodo.org/records/14783581/files/bnetza_open_mastr_2025-02-09.zip
EESI:
  net_capacity: true
  reliability_score: 5
  status: ["Operational"] # since no start years given
  fn: european-energy-storage-inventory-20250817-2245.json
  url: https://tubcloud.tu-berlin.de/s/RXWgYbYJpePsWAZ/download/european-energy-storage-inventory-20250817-2245.json
GND:
  net_capacity: true
  reliability_score: 5
  status: ["Shutdown", "Operational", "Under Construction", "Decommissioning Completed"]
  url: https://raw.githubusercontent.com/cristianst85/GeoNuclearData/1bc8b4ac106af236902385b87e46c540b4864815/data/csv/denormalized/nuclear_power_plants.csv
  fn: nuclear_power_plants.csv
GHR:
  reliability_score: 4
  fn: GloHydroRes_vs1.csv
  url: https://zenodo.org/records/14526360/files/GloHydroRes_vs1.csv

# ---------------------------------------------------------------------------- #
#                             Data Structure Config                            #
# ---------------------------------------------------------------------------- #

display_net_caps: true
target_columns:
  - Name
  - Fueltype
  - Technology
  - Set
  - Country
  - Capacity
  - Efficiency
  - DateIn
  - DateRetrofit
  - DateOut
  - lat
  - lon
  - Duration
  - Volume_Mm3
  - DamHeight_m
  - StorageCapacity_MWh
  - EIC
  - projectID
target_countries:
  - Albania
  - Austria
  - Belgium
  - Bosnia and Herzegovina
  - Bulgaria
  - Croatia
  - Czechia
  - Denmark
  - Estonia
  - Finland
  - France
  - Germany
  - Greece
  - Hungary
  - Ireland
  - Italy
  - Kosovo
  - Latvia
  - Lithuania
  - Luxembourg
  - North Macedonia
  - Moldova
  - Montenegro
  - Netherlands
  - Norway
  - Poland
  - Portugal
  - Romania
  - Serbia
  - Slovakia
  - Slovenia
  - Spain
  - Sweden
  - Switzerland
  - United Kingdom
  - Ukraine
target_fueltypes:
  # Provide a mapping of the keys to a list or a regex expression which are used for parsing.
  # A list will be converted to a regex expression matching all words (case-insensitive)
  # given by the list. An empty string results in a regex expression containing only the key.
  # Parsed of representatives at the top may be overwritten by representatives further below.
  Other: ".*"
  Solid Biomass:
    - biological
    - bioenergy
    - agricultural
    - biomass
    - feste biomasse
    - biomasa
    - biomassa
    - feste biogene stoffe
    - pellets
    - stroh
    - straw
  Biogas:
    - biogas
    - biogaz
    - biomethan
    - gasförmige biomasse
  Nuclear:
    - nuclear
    - kernkraft
    - atomkraft
    - nucléaire
    - atomowa
    - jądrowa
    - kjernekraft
    - atoom
  Natural Gas:
    - ccgt
    - gas
    - natural gas
    - ocgt
    - lng
    - combined cycle
    - fossil gas
    - mixed fossil fuels
    - erdgas
    - andere gase
    - gaz
    - gaz naturel
    - gas natural
    - naturgass
    - gaz ziemny
    - gass
    - aardgas
    - flüssiggas
  Hydro:
    - run-off
    - run off
    - run of river
    - run-of-river
    - ror
    - hydro
    - hidro
    - hydraulique
    - hydroelectric
    - wasserkraft
    - waterkracht
    - wasser
    - vannkraft
    - vattenkraft
    - wodna
    - idroelettrica
    - idraulica
  Hard Coal:
    - coal
    - coke
    - steinkohle
    - houille
    - charbon dur
    - hulla
    - carbón duro
    - carbone duro
    - antracite
    - steinkul
    - węgiel kamienny
    - steenkool
  Lignite:
    - brown coal
    - lignite
    - peat
    - braunkohle
    - ligni.*
    - brunatny
    - brunkul
    - bruinkool
  Oil:
    - oil
    - diesel
    - biodiesel
    - methanol
    - heizöl
    - ethanol
    - mineralölprodukte
    - öl
    - fioul
    - mazout
    - petrol
    - olio
    - olej
    - carburante
    - olie
  Geothermal: ""
  Solar: ""
  Waste:
    - "abfall.*"
    - waste
    - mva
    - müll
    - afval
    - affald
    - energy recovery
    - incineration
    - reststoffe
    - refuse
    - déchets
    - ordures
    - residuos
    - basura
    - rifiuti
    - scarti
    - odpady
    - śmieci
    - abfälle
  Wind: ""
  Battery:
    - Electro-chemical
    - battery
  Mechanical Storage: ""
  Heat Storage: ""
  Hydrogen Storage: ""
target_sets:
  # Provide a mapping of the keys to a list or a regex expression which are used for parsing.
  # A list will be converted to a regex expression matching all words (case-insensitive)
  # given by the list. An empty string results in a regex expression containing only the key.
  # Parsed of representatives at the top may be overwritten by representatives further below.
  PP: ".*"
  CHP:
    - heizkraftwerk
    - hkw
    - kwk
    - fhkw
    - gud
    - hp
    - bhkw
    - cogeneration
    - power and heat
    - heat and power
    - chp
    - cogen
    - heat & power
    - power & heat
    - cogeneración
    - cogenerazione
    - kogeneracja
    - combinada calor y electricidad
    - kraftvarmeverk
    - kraftvarmeværk
    - samproduktion
    - samproduksjon
    - kvv
    - wkk
    - warmtekrachtkoppeling
    - warmte-krachtcentrale
  Storage:
    - battery
    - storage
    - store
    - speicher
    - pumped
target_technologies:
  # Provide a mapping of the keys to a list or a regex expression which are used for parsing.
  # A list will be converted to a regex expression matching all words (case-insensitive)
  # given by the list. An empty string results in a regex expression containing only the key.
  # Parsed of representatives at the top may be overwritten by representatives further below.
  CCGT:
   - ccgt
   - gas
   - natural gas
   - gasturbinen mit abhitzekessel
  OCGT:
   - ocgt
   - gasturbinen ohne abhitzekessel
  Steam Turbine:
   - steam
   - turbine
   - kondensationsmaschine
   - gegendruckmaschine
   - dampfmotor
  Combustion Engine:
   - combustion engine
   - verbrennungsmotor
   - stirlingmotor
  Run-Of-River:
   - run-off
   - run off
   - run of river
   - run-of-river
   - ror
   - laufwasseranlage
   - laufwasser
   - abwasserkraft
   - trinkwassersystem
   - brauchwassersystem
   - pasada
   - przepływowa
   - fluente
   - elvekraft
   - doorstroom
   - älvkraft
  Reservoir:
   - reservoir
   - réservoir
   - impoundment
   - talsperre
   - stausee
   - speicherwasseranlage
   - speicherwasser
   - barrage
   - embalse
   - bacino
   - zbiornik
   - magasinverk
   - damkraftverk
   - reguleringsmagasin
  Pumped Storage:
   - pumped hydro
   - pumped
   - kavernen
   - bombeo
   - reversible
   - reversibel
   - oberbecken
   - unterbecken
   - pompage
   - pompaggio
   - pompowa
   - pumpekraftverk
  Marine: ""
  PV:
   - pv
   - photo-voltaic
   - photo voltaic
  CSP: ""
  Onshore:
   - onshore
   - an land
   - terrestre
   - landvind
   - på land
   - op land
   - lądowy
   - su terra
   - en tierra
   - à terre
  Offshore:
   - offshore
   - nearshore
   - auf see
   - en mer
   - marino
   - en mar
   - in mare
   - morski
   - havvind
   - til havs
   - på havet
   - op zee
   - zeewind
clean_name:
  fueltypes_with_blocks:
    - Nuclear
  remove_common_words: false # remove words which appear more that 20 times in all entries
  remove_duplicated_words: true
  replace:
    " ": "[^a-zA-Z]" # non-alphabetical symbols
    "":
      # This should be a list, if remove_common_words is true.
      - I
      - II
      - III
      - IV
      - V
      - VI
      - VII
      - VIII
      - IX
      - X
      - XI
      - parque
      - grupo
      - station
      - power
      - plant
      - unit
      - block
      - kraftwerk
      - kernkraftwerk
      - wehrkraftwerk
      - rheinkraftwerk
      - gemeinschaftskernkraftwerk
      - kernkw
      - kw
      - hkw
      - nuclear
      - hydro
      - thermal
      - heizkraftwerk
      - eolico
      - project
      - hydroelectric
      - hydropower
      - hydroelectrique
      - hydraulique
      - embassament
      - pumped
      - storage
      - france
      - austria
      - sweden
      - serbia
      - ukraine
      - switzerland
      - slovakia
      - croatia
      - poland
      - slovenia
      - portugal
      - bosnia
      - and
      - herzegovina
      - bulgaria
      - generating
      - romania
      - macedonia
      - latvia
      - lithuania
      - hungary
      - \w #remove single letters
    "ss": "ß"

# ---------------------------------------------------------------------------- #
#                               Heuristic Config                               #
# ---------------------------------------------------------------------------- #
fuel_to_lifetime:
  Solid Biomass: 20
  Biogas: 20
  Geothermal: 15
  Hard Coal: 45
  Hydro: 100
  Lignite: 45
  Natural Gas: 40
  Nuclear: 50
  Oil: 40
  Other: 5
  Solar: 25
  Waste: 25
  Wind: 25

# ---------------------------------------------------------------------------- #
#                                Plotting Config                               #
# ---------------------------------------------------------------------------- #
fuel_to_color:
  OCGT: lightcoral
  Hydro: lightseagreen
  Pumped hydro: aquamarine
  Run-of-river: lightseagreen
  Ror: lightseagreen
  Lignite: sienna
  Nuclear: mediumorchid
  Solar: gold
  Windoff: cornflowerblue
  Windon: darkblue
  Offshore: cornflowerblue
  Onshore: darkblue
  Wind: steelblue
  Biogas: yellowgreen
  Bioenergy: green
  Solid Biomass: forestgreen
  Natural Gas: orangered
  CCGT: orangered
  Coal: black
  Hard Coal: dimgray
  Oil: black
  Other: lightgrey
  Waste: olive
  Geothermal: darkgoldenrod
  Battery: purple
  Hydrogen Storage: teal
  Mechanical Storage: darkslategray
  Heat Storage: darkorange
  Total: gold
